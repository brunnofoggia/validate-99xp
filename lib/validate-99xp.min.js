/**
* @license
* validate 99xp
* ----------------------------------
* v1.3.2
*
* Copyright (c)2020 Bruno Foggia, 99xp.
* Distributed under MIT license
*
* https://validate.99xp.org
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("v8n-99xp"),require("underscore-99xp")):"function"==typeof define&&define.amd?define(["exports","v8n-99xp","underscore-99xp"],t):t((e=e||self).vl={},e.v8n,e._)}(this,function(e,t,i){"use strict";var a={validator:t=t&&t.hasOwnProperty("default")?t.default:t,deepValueSearch:(i=i&&i.hasOwnProperty("default")?i.default:i).deepValueSearch,validateAll:!0,validate(e,t={}){t=i.defaults(t,{validateAll:this.validateAll});var a=[],r=this.getValidations(e,t),l=this.validator().passesAnyOf(this.validator().minLength(1),this.validator().not.undefined().not.null().pattern(/.+/)),s={};for(let o in r){s[o]=!0;var n=this.deepValueSearch(o,e,!0);(!i.isArray(n)&&!i.isJSON(n)||!/\[\]\[\w+\]/.test(o)&&i.isArray(n))&&(n=[n]),!i.isArray(r[o])&&(r[o]=[r[o]]);for(let i in r[o]){let d=r[o][i];if("boolean"==typeof d[0]||void 0===d[0]){if(s[o]=!(!1===d),!s[o])continue;d=[l,d[1]||this.getRequiredErrorMessage(o),d[2]||null]}a=a.concat(this.validateValues(n,s[o],t.validateAll,o,e,d))}}return a.length>0?a:null},validateValues(e,t,i,a,r,l){var s=[];for(var n in e)s=s.concat(this.validateValue(n,e[n],t,i,a,r,l));return s},validateValue(e,t,i,a,r,l,s){var n=[];let o=this.getValidationValue(s,t,l,r);return this.isRequiredNow(o,i,a)&&!this.isValid(r,l,s[0],o)&&n.push([r,s[1],e]),n},getValidationValue:(e,t,i,a)=>e[2]&&"function"==typeof e[2]?e[2](t,i,a):t,getValidations(e,t={}){var a=i.result2(this,"validations",{},[e,t],this);return i.result2(t,"validations",a,[e,t],this)},getMandatoryValidations(e,t={}){var a=this.getValidations(e,t),r={};for(let e in a){!i.isArray(a[e])&&(a[e]=[a[e]]);for(let t in a[e]){let i=a[e][t];(void 0===i[0]||"boolean"==typeof i[0]&&!1!==i[0]||"object"==typeof i[0]&&!i[0].test(""))&&(!(e in r)&&(r[e]=[]),r[e].push(i))}}return r},isRequiredNow:(e,t=!1,i)=>void 0!==e||!!t&&!!i,isValid:(e,t,i,a)=>!!i.test(a),requiredErrorMessage:"Field *{{field}}* cannot be empty",getRequiredErrorMessage(e){return i.template(this.requiredErrorMessage)({field:e})}};e.default=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=validate-99xp.min.js.map
