/**
* @license
* validate 99xp
* ----------------------------------
* v1.3.0
*
* Copyright (c)2020 Bruno Foggia, 99xp.
* Distributed under MIT license
*
* https://validate.99xp.org
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("v8n-99xp"),require("underscore-99xp")):"function"==typeof define&&define.amd?define(["exports","v8n-99xp","underscore-99xp"],t):t((e=e||self).vl={},e.v8n,e._)}(this,function(e,t,a){"use strict";var i={validator:t=t&&t.hasOwnProperty("default")?t.default:t,deepValueSearch:(a=a&&a.hasOwnProperty("default")?a.default:a).deepValueSearch,validateAll:!0,validate(e,t={}){t=a.defaults(t,{validateAll:this.validateAll});var i=[],l=this.getValidations(e,t),r={};for(let d in l){r[d]=!0;var s=this.deepValueSearch(d,e,!0);!a.isArray(s)&&!a.isJSON(s)&&(s=[s]);for(let a in l[d]){let n=l[d][a];"boolean"!=typeof n?i=i.concat(this.validateValues(s,r[d],t.validateAll,d,e,n)):r[d]=n}var n=a.isArray(s)?a.first(s):s;l[d].length&&(1!==l[d].length||"boolean"!=typeof l[d][0])||!this.isRequiredNow(n,r[d],t.validateAll)||this.validator().minLength(1).test(n,e,d)||i.push([d,a.template(this.requiredErrorMessage)({field:d})])}return i.length>0?i:null},validateValues(e,t,a,i,l,r){var s=[];for(var n in e)s=s.concat(this.validateValue(n,e[n],t,a,i,l,r));return s},validateValue(e,t,a,i,l,r,s){var n=[];let d=this.getValidationValue(s,t,r,l);return this.isRequiredNow(d,a,i)&&!this.isValid(l,r,s[0],d)&&n.push([l,s[1],e]),n},getValidationValue:(e,t,a,i)=>e[2]&&"function"==typeof e[2]?e[2](t,a,i):t,getValidations(e,t={}){var i=a.result2(this,"validations",{},[e,t],this);return a.result2(t,"validations",i,[e,t],this)},getMandatoryValidations(e,t={}){var a=this.getValidations(e,t),i={};for(let e in a)for(let t in a[e]){let l=a[e][t];l[0].test("")||(!(e in i)&&(i[e]=[]),i[e].push(l))}return i},isRequiredNow:(e,t=!1,a)=>void 0!==e||!!t&&!!a,isValid:(e,t,a,i)=>!!a.test(i),requiredErrorMessage:"Field *{{field}}* cannot be empty"};e.default=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=validate-99xp.min.js.map
